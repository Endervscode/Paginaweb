<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Te Amo Negra ðŸ’›</title>
    <style>
        body { margin: 0; overflow: hidden; background-color: #000; font-family: 'Arial', sans-serif; }
        canvas { display: block; }

        /* Mensaje Principal */
        #main-message {
            position: absolute;
            top: 15%;
            width: 100%;
            text-align: center;
            color: white;
            font-size: 2.5rem;
            font-weight: bold;
            text-shadow: 0 0 10px #ff1493, 0 0 20px #ff1493, 0 0 40px #ff1493;
            pointer-events: none;
            z-index: 10;
            animation: float 3s ease-in-out infinite;
        }

                @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

                /* Controles de Audio */
        #ui-container {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 100;
            display: flex;
            align-items: center;
            gap: 15px;
            background: rgba(255, 20, 147, 0.2);
            padding: 10px 20px;
            border-radius: 30px;
            border: 1px solid rgba(255, 105, 180, 0.5);
            backdrop-filter: blur(5px);
        }

        #music-btn {
            background: none;
            border: none;
            color: white;
            cursor: pointer;
            font-size: 24px;
            transition: transform 0.2s;
        }

        #ui-container:hover { background: rgba(255, 20, 147, 0.4); scale: 1.05; }

        #instructions {
            position: absolute;
            bottom: 20px;
            width: 100%;
            text-align: center;
            color: rgba(255, 105, 180, 0.7);
            pointer-events: none;
            font-size: 14px;
            text-shadow: 0 0 6px #ff1493;
        }
    </style>
</head>
<body>

    <div id="main-message">Feliz 14/02 Mi Negra ðŸ’›</div>

<div id="ui-container">
    <span style="color: white; font-size: 12px; font-weight: bold;">MÃšSICA</span>
    <button id="music-btn">ðŸ”‡</button>
</div>

<audio id="bg-music" loop>
    <source src="https://raw.githubusercontent.com/Endervscode/Paginaweb/main/ssstik.io_1771037626035.mp3" type="audio/mpeg">
    Tu navegador no soporta audio.
</audio>

<script type="importmap">
    {
        "imports": {
            "three": "https://unpkg.com/three@0.160.0/build/three.module.js",
            "three/addons/": "https://unpkg.com/three@0.160.0/examples/jsm/"
        }
    }
</script>

<script type="module">
    import * as THREE from 'three';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

        // --- LÃ³gica de Audio ---
    const music = document.getElementById('bg-music');
    const musicBtn = document.getElementById('music-btn');
    let isPlaying = false;

    musicBtn.addEventListener('click', () => {
        if (!isPlaying) {
            music.play();
            musicBtn.innerText = "ðŸ”Š";
            isPlaying = true;
        } else {
            music.pause();
            musicBtn.innerText = "ðŸ”‡";
            isPlaying = false;
        }
    });

    // --- ConfiguraciÃ³n Escena Three.js ---

    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 2000);
    camera.position.set(0, 80, 220);

    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.setPixelRatio(window.devicePixelRatio);
    document.body.appendChild(renderer.domElement);

    const controls = new OrbitControls(camera, renderer.domElement);
    controls.enableDamping = true;
    controls.autoRotate = true;
    controls.autoRotateSpeed = 0.5;

    // Agujero negro
    const holeGroup = new THREE.Group();
    const coreGeo = new THREE.SphereGeometry(12, 32, 32);
    const coreMat = new THREE.MeshBasicMaterial({ color: 0x000000 });
    holeGroup.add(new THREE.Mesh(coreGeo, coreMat));

    const spriteMaterial = new THREE.SpriteMaterial({
        map: createGlowTexture(),
        color: 0xff1493,
        transparent: true,
        opacity: 0.9,
        blending: THREE.AdditiveBlending,
        depthWrite: false
    });
    const centralGlow = new THREE.Sprite(spriteMaterial);
    centralGlow.scale.set(100, 100, 1);
    holeGroup.add(centralGlow);
    scene.add(holeGroup);

    // Estrellas
    const starGeometry = new THREE.BufferGeometry();
    const starCount = 18000;
    const posArray = new Float32Array(starCount * 3);

    for (let i = 0; i < starCount; i++) {
        const i3 = i * 3;
        const radius = 40 + Math.random() * 180;
        const angle = Math.random() * Math.PI * 2;
        const yOffset = (Math.random() - 0.5) * 50;

        posArray[i3]     = radius * Math.cos(angle);
        posArray[i3 + 1] = yOffset;
        posArray[i3 + 2] = radius * Math.sin(angle);
    }

    starGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));
    const starMaterial = new THREE.PointsMaterial({
        size: 0.7,
        color: 0xffffff,
        transparent: true,
        opacity: 0.8
    });
    scene.add(new THREE.Points(starGeometry, starMaterial));

    // â”€â”€ FRASES â”€â”€ pequeÃ±as, aleatorias en la zona, siempre mirando a cÃ¡mara
    const phrases = [
        "ðŸ’›", "Eres mi mundo", "Te amoðŸ’›", "Feliz San ValentÃ­n", "ðŸ’–", "ðŸ»", "Siempre juntos",
        "Al infinito", "TÃº y yo", "Mi persona favorita", "Contigo todo es mejor",
        "Eres mi hogar", "ðŸ’›", "No imagino un maÃ±ana sin ti", "ðŸ’›","Mi corazÃ³n late por ti",
        "Te elijo siempre", "Eres mi sueÃ±o favorito", "ðŸ’›","Amor eterno", "Mi media naranja",
        "TÃº haces que sonrÃ­a", "ðŸ’›", "Eres magia", "Te quiero infinito", "Mi refugio",
        "Cada latido es tuyo", "Contigo el tiempo vuela", "Eres mi todo", "ðŸ’›", "Gracias por ti",
        "TÃº haces brillar mis dÃ­as", "Mi lugar favorito es contigo", "Eres mi persona",
        "Te amo mÃ¡s cada dÃ­a", "ðŸ’« Juntos somos imparables", "Mi alma te reconociÃ³",
        "TÃº y yo somos poesÃ­a", "Siempre serÃ¡s especial", "Eres mi paz", "Quiero envejecer contigo",
        "Mi corazÃ³n es tuyo", "ðŸ’›", "Eres mi aventura", "Te amo en todas las versiones",
        "Mi constelaciÃ³n favorita", "Juntos la mejor historia", "ðŸ’• TÃº eres suficiente",
        "Mi amor no cabe en el universo", "Eres mi sol", "Contigo todo tiene sentido",
        "Te amo hasta el fin", "ðŸ’›", "Eres mi para siempre", "Mi calma, mi todo",
        "TÃº me haces mejor", "Amarte es mi favorito", "Eres mi deseo", "ðŸ’›","Contigo el cielo es mÃ¡s bonito",
        "Te amo sin palabras", "Siempre tÃº", "Mi milagro diario", "Todos los San Valentines contigo",
        "Te amo en cada universo", "ðŸ’›","Eres mi comienzo y final", "Mi amor crece", "Mi lugar seguro",
        "Sonrisas tontas por ti", "ðŸ’›","Contigo todo es posible", "Te amo sin condiciones",
        "Mi estrella mÃ¡s brillanteðŸ’›", "Eres mi inspiraciÃ³n", "Juntos somos magia", "Te amo mÃ¡s que ayer",
    ];

    const textsGroup = new THREE.Group();
    scene.add(textsGroup);

    const textMeshes = []; // guardamos referencias para actualizar orientaciÃ³n

    phrases.forEach((text) => {
        const canvas = document.createElement('canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = 512;   // mÃ¡s pequeÃ±o
        canvas.height = 128;

        ctx.font = "Bold 52px Arial";  // fuente mÃ¡s pequeÃ±a
        const gradient = ctx.createLinearGradient(0, 0, canvas.width, 0);
        gradient.addColorStop(0, "#ff69b4");
        gradient.addColorStop(0.5, "white");
        gradient.addColorStop(1, "#ff69b4");

        ctx.fillStyle = gradient;
        ctx.shadowColor = "rgba(255, 20, 147, 0.8)";
        ctx.shadowBlur = 12;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText(text, 256, 64);

        const texture = new THREE.CanvasTexture(canvas);

        const mat = new THREE.MeshBasicMaterial({
            map: texture,
            transparent: true,
            side: THREE.DoubleSide,
            depthWrite: false,
            blending: THREE.AdditiveBlending
        });

        // TamaÃ±o mucho mÃ¡s pequeÃ±o
        const geometry = new THREE.PlaneGeometry(28, 7);

        const mesh = new THREE.Mesh(geometry, mat);

        // DistribuciÃ³n aleatoria en la zona de estrellas
        const radius = 50 + Math.random() * 140;
        const angle = Math.random() * Math.PI * 2;
        const y = (Math.random() - 0.5) * 70;

        mesh.position.x = radius * Math.cos(angle);
        mesh.position.z = radius * Math.sin(angle);
        mesh.position.y = y;

        textsGroup.add(mesh);
        textMeshes.push(mesh);
    });

    function createGlowTexture() {
        const canvas = document.createElement('canvas');
        canvas.width = 128; canvas.height = 128;
        const ctx = canvas.getContext('2d');
        const grad = ctx.createRadialGradient(64, 64, 0, 64, 64, 64);
        grad.addColorStop(0, 'rgba(255,255,255,1)');
        grad.addColorStop(0.2, 'rgba(255,20,147,0.6)');
        grad.addColorStop(0.5, 'rgba(255,20,147,0.1)');
        grad.addColorStop(1, 'rgba(0,0,0,0)');
        ctx.fillStyle = grad;
        ctx.fillRect(0, 0, 128, 128);
        return new THREE.CanvasTexture(canvas);
    }

    // AnimaciÃ³n
    function animate() {
        requestAnimationFrame(animate);

        // RotaciÃ³n suave del grupo (opcional, da movimiento al conjunto)
        textsGroup.rotation.y += 0.0008;

        // Cada texto mira SIEMPRE a la cÃ¡mara
        textMeshes.forEach(mesh => {
            mesh.lookAt(camera.position);

        });

        const p = Date.now() * 0.003;
        centralGlow.scale.set(100 + Math.sin(p)*12, 100 + Math.sin(p)*12, 1);

        controls.update();
        renderer.render(scene, camera);
    }

    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });

    animate();
</script>
</body>
</html>
